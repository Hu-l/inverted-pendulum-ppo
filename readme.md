# ğŸ§  åŸºäºPPOçš„å€’ç«‹æ‘†èµ·æ‘†æ§åˆ¶é¡¹ç›®

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªä½¿ç”¨**å¼ºåŒ–å­¦ä¹  PPO ç®—æ³•**è®­ç»ƒçš„å€’ç«‹æ‘†æ§åˆ¶å™¨ï¼Œèƒ½å¤Ÿå®ç°ä»å€’æŒ‚çŠ¶æ€èµ·æ‘†è‡³å¹³è¡¡ç‚¹çš„å…¨è¿‡ç¨‹æ§åˆ¶ã€‚

---

## ğŸš€ é¡¹ç›®ç®€ä»‹

- **ç¯å¢ƒ**ï¼šè‡ªå®šä¹‰ Gym ç¯å¢ƒï¼Œæ¨¡æ‹Ÿä¸€ä¸ªç”±ç”µæœºé©±åŠ¨çš„æ—‹è½¬å€’ç«‹æ‘†ç³»ç»Ÿ
- **ç®—æ³•**ï¼šProximal Policy Optimization (PPO)
- **æ¡†æ¶**ï¼šPython + Gym + PyTorch + Stable-Baselines3
- **å¯è§†åŒ–**ï¼šè®­ç»ƒè¿‡ç¨‹æ›²çº¿ã€èµ·æ‘†åŠ¨ç”»ï¼ˆGIFï¼‰ã€è½¨è¿¹å›¾

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
ğŸ“¦inverted-pendulum-ppo
â”œâ”€â”€ env.py                # è‡ªå®šä¹‰ Gym ç¯å¢ƒå®šä¹‰
â”œâ”€â”€ train.py              # PPO è®­ç»ƒè„šæœ¬
â”œâ”€â”€ test.py               # ç­–ç•¥æµ‹è¯•ä¸è½¨è¿¹ç»˜å›¾
â”œâ”€â”€ render_to_gif.py      # ä¿å­˜èµ·æ‘†è¿‡ç¨‹ä¸º GIF
â”œâ”€â”€ plot_tensorboard_logs.py # ç»˜åˆ¶ reward/loss æ›²çº¿
â”œâ”€â”€ gifs/                 # ä¿å­˜çš„ gif åŠ¨ç”»
â”œâ”€â”€ ppo_tensorboard/      # TensorBoard æ—¥å¿—
â”œâ”€â”€ models/               # ä¿å­˜çš„ PPO æ¨¡å‹
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡ä»¶
```

---

## ğŸ§  ç¯å¢ƒè¯´æ˜

- **çŠ¶æ€ç©ºé—´**ï¼š\[è§’åº¦ï¼ˆradï¼‰, è§’é€Ÿåº¦ï¼ˆrad/sï¼‰\]
- **åŠ¨ä½œç©ºé—´**ï¼šç”µå‹è¾“å…¥ âˆˆ [âˆ’6V, 6V]
- **å¥–åŠ±å‡½æ•°**ï¼šæƒ©ç½šåç¦»å¹³è¡¡ä½ç½®ã€è§’é€Ÿåº¦å’Œèƒ½è€—
- **åˆå§‹çŠ¶æ€**ï¼šä»ä¸‹å‚ä½ç½® \( \pi \) é™„è¿‘å¼€å§‹

---

## ğŸ”§ å¼€å§‹è®­ç»ƒ

```bash
python train.py
```

- æ—¥å¿—ä¿å­˜åœ¨ `ppo_tensorboard/`
- æ¨¡å‹ä¿å­˜ä¸º `ppo_inverted_pendulum_<æ—¶é—´æˆ³>.zip`

å¯åŠ¨ TensorBoard æŸ¥çœ‹è®­ç»ƒæ›²çº¿ï¼š
```bash
tensorboard --logdir ppo_tensorboard/
```

---

## ğŸ¥ ç­–ç•¥å¯è§†åŒ–

### 1. ä¿å­˜ swing-up åŠ¨ç”»ï¼ˆGIFï¼‰ï¼š
```bash
python test.py
```
> ç”Ÿæˆ `gifs/swingup_ep1.gif`ã€`trajectory_ep1.png` ç­‰å›¾åƒ

### 2. ç»˜åˆ¶è®­ç»ƒæ›²çº¿ï¼ˆreward/lossï¼‰ï¼š
```bash
python plot_tensorboard_logs.py
```
> è¾“å‡º `training_curves.png`

---

## ğŸ“Š å®éªŒç»“æœç¤ºä¾‹

- âœ… æœ€ç»ˆå¹³å‡å¥–åŠ±ï¼šçº¦ -28.1
- âœ… æ¯æ¬¡è¿è¡Œæ»¡æ­¥é•¿ï¼ˆ1000æ­¥ï¼‰ï¼Œæ— å¤±è´¥
- âœ… explained variance â‰ˆ 0.92ï¼Œvalue ç½‘ç»œæ‹Ÿåˆè‰¯å¥½
- âœ… gif åŠ¨ç”»æ¸…æ™°å±•ç¤ºèµ·æ‘†å’Œç¨³å®šè¿‡ç¨‹

---

## ğŸ”„ æ”¹è¿›æ–¹å‘

- çŠ¶æ€ç©ºé—´åŠ å…¥ `sin(Î±), cos(Î±)` å¢å¼ºå¯å­¦ä¹ æ€§
- å°è¯•ä½¿ç”¨ TD3/SAC ç­‰ç¦»ç­–ç•¥ç®—æ³•
- å¼•å…¥ reward shaping æˆ– LSTM ç­–ç•¥ç½‘ç»œ

---

## ğŸ“¦ ç¯å¢ƒä¾èµ–

```bash
pip install gym matplotlib imageio stable-baselines3 tensorboard
```

---

## ğŸ“¬ è‡´è°¢ä¸å¼•ç”¨

- Stable-Baselines3: https://github.com/DLR-RM/stable-baselines3
- OpenAI Gym: https://github.com/openai/gymï¼ˆchatgptæ•‘æˆ‘ç‹—å‘½ï¼‰
